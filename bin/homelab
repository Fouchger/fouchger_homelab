#!/usr/bin/env bash
# -----------------------------------------------------------------------------
# Filename: bin/homelab
# Created : 2026-01-23
# Updated : 2026-01-23
# Description: fouchger_homelab interactive CLI entrypoint.
# Usage:
#   make menu
#
# Developer notes:
#   - Keep this as a thin orchestrator.
#   - Menu routing lives in lib/menu.sh
#   - UI is standardised via lib/ui.sh (dialog only).
#   - Operational orchestration lives in lib/actions.sh
# -----------------------------------------------------------------------------

set -Eeuo pipefail
IFS=$'\n\t'

REPO_ROOT="$(cd -- "$(dirname -- "${BASH_SOURCE[0]}")/.." && pwd -P)"

# Core libs
# shellcheck source=lib/paths.sh
source "${REPO_ROOT}/lib/paths.sh"
# shellcheck source=lib/logging.sh
source "${REPO_ROOT}/lib/logging.sh"
# shellcheck source=lib/core.sh
source "${REPO_ROOT}/lib/core.sh"
# shellcheck source=lib/run.sh
source "${REPO_ROOT}/lib/run.sh"
# shellcheck source=lib/state.sh
source "${REPO_ROOT}/lib/state.sh"

# UI + framework
# shellcheck source=lib/ui.sh
source "${REPO_ROOT}/lib/ui.sh"
# shellcheck source=lib/actions.sh
source "${REPO_ROOT}/lib/actions.sh"
# shellcheck source=lib/menu.sh
source "${REPO_ROOT}/lib/menu.sh"

main_menu
